<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complex Form Validation & DOM Manipulation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            max-width: 400px;
            margin: auto;
        }
        input, button {
            width: 100%;
            padding: 8px;
            margin: 8px 0;
        }
        .error {
            color: red;
            font-size: 14px;
        }
        .success {
            color: green;
            font-size: 14px;
        }
        nav a {
            margin-right: 10px;
            cursor: pointer;
            color: blue;
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <nav>
        <a onclick="showPage('formPage')">Form</a>
        <a onclick="showPage('aboutPage')">About</a>
    </nav>

    <div class="container">
        <!-- Form Page -->
        <div id="formPage">
            <h2>Register</h2>
            <form id="registerForm">
                <input type="text" id="username" placeholder="Username" required>
                <input type="password" id="password" placeholder="Password" required>
                <div id="passwordFeedback" class="error"></div>
                <button type="submit">Submit</button>
                <div id="formMessage"></div>
            </form>
        </div>

        <!-- About Page -->
        <div id="aboutPage" style="display:none;">
            <h2>About Page</h2>
            <p>This is a demo of complex form validation and dynamic DOM updates.</p>
        </div>
    </div>

    <script>
        // Password Strength Check
        const passwordInput = document.getElementById("password");
        const passwordFeedback = document.getElementById("passwordFeedback");

        passwordInput.addEventListener("input", function () {
            const password = passwordInput.value;
            let strengthMessage = "";

            if (password.length < 6) {
                strengthMessage = "Password too short";
            } else if (!/[A-Z]/.test(password)) {
                strengthMessage = "Add at least one uppercase letter";
            } else if (!/[0-9]/.test(password)) {
                strengthMessage = "Add at least one number";
            } else if (!/[@$!%*?&]/.test(password)) {
                strengthMessage = "Add at least one special character";
            } else {
                strengthMessage = "Strong password âœ”";
                passwordFeedback.className = "success";
                passwordFeedback.textContent = strengthMessage;
                return;
            }
            passwordFeedback.className = "error";
            passwordFeedback.textContent = strengthMessage;
        });

        // Form Submit Validation
        document.getElementById("registerForm").addEventListener("submit", function (e) {
            e.preventDefault();
            if (passwordFeedback.className === "success") {
                document.getElementById("formMessage").textContent = "Form submitted successfully!";
                document.getElementById("formMessage").className = "success";
            } else {
                document.getElementById("formMessage").textContent = "Please fix the errors before submitting.";
                document.getElementById("formMessage").className = "error";
            }
        });

        // Client-Side Routing Simulation
        function showPage(pageId) {
            document.getElementById("formPage").style.display = "none";
            document.getElementById("aboutPage").style.display = "none";
            document.getElementById(pageId).style.display = "block";
        }
    </script>

</body>
</html>
